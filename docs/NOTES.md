NOTES
=====

# Noise 

> Johnson–Nyquist noise (thermal noise, Johnson noise, or Nyquist noise) is the electronic noise generated by the thermal agitation of the charge carriers (usually the electrons) inside an electrical conductor at equilibrium, which happens regardless of any applied voltage

Actual thermal noise floor for an 802.11 channel: https://en.wikipedia.org/wiki/Johnson%E2%80%93Nyquist_noise#Noise_power_in_decibels

Definitions:

- Environment noise:
    - AP perspective
        - AP may be able to operate as a NIC and a spectrum analyzer to determine noise.
    - Client perspective
        - Client can only operate as a NIC. 
        - Has to use bits passing through it's interface to determine noise.
- Noise floor definiton:

| Bandwidth | Thermal noise power | Notes |
| --------- | ------------- | --------- |
| 1 MHz	    |    −114 dBm	| Bluetooth channel |
| 2 MHz	    |    −111 dBm	| Commercial GPS channel |
| 3.84 MHz	|    −108 dBm	| UMTS channel |
| 6 MHz	    |    −106 dBm	| Analog television channel |
| 20 MHz	|    −101 dBm	| WLAN 802.11 channel |
| 40 MHz	|    −98 dBm 	| WLAN 802.11n 40 MHz channel |
| 80 MHz	|    −95 dBm	| WLAN 802.11ac 80 MHz channel |
| 160 MHz	|    −92 dBm	| WLAN 802.11ac 160 MHz channel |

Notes regarding 802.11:

- Notice that a bandwidth increase from 20 MHz to 40 MHz raises the noise floor by 3 dBm, and so on as additional channels at bonded.

Notes regarding Bluetooth: 

- Bluetooth Classic (notice 1 MHz wide channels) has a noise floor starting at -114 contrast that to -101 of 802.11.
- BLE has a 2 MHz wide channel - so I'm guessing it would have a similar thermal noise as GPS at -111. 

# Noise from Microsoft APIs isn't currently possible. It is hidden away at the driver level.

Noise floor can not be retrieved threw Microsoft APIs such as the Native Wi-Fi API, Wireless Zero Configuration API, or standard 802.11 OIDs.

Values such as the noise floor can be queried by issuing a device specific OID (Atheros 5XXX chipset) to the NDIS driver. If memory serves me the OID for noise floor was 0xFF000020 (for a Atheros 5XXX chipset only).

One way to figure out the custom OIDs is to use tools like “PCAGizmo” and OIDScope (http://www.pcausa.com/Utilities/utilities.htm) which allows you to trace all the calls to a NDIS driver. By using the wifi manager that comes with your wifi card (private-labeled Atheros utility) you will be able to trace (i.e. reverse engineer) the calls that get you information not found in the general purpose APIs.

Here is a list that I found during a search online:

| OID                             | VALUE      |
| ------------------------------- | ---------- |
| OID_ATH_XMIT_FILTERED           | 0xFF000000 |
| OID_ATH_XMIT_RETRIES            | 0xFF000001 |
| OID_ATH_XMIT_EXCESSIVE_RETRIES  | 0xFF000002 |
| OID_ATH_XMIT_ACK_RSSI           | 0xFF000003 |
| OID_ATH_XMIT_HW_ACKS_MISSING    | 0xFF000004 |
| OID_ATH_XMIT_RTS_ERRORS         | 0xFF000005 |
| OID_ATH_XMIT_REQUESTS           | 0xFF000006 |
| OID_ATH_XMIT_REQUESTS_DENIED    | 0xFF000007 |
| OID_ATH_XMIT_FIFO_UNDERRUNS     | 0xFF000008 |
| OID_ATH_XMIT_DATA_RATE          | 0xFF000009 |
| OID_ATH_RCV_RSSI                | 0xFF00000A |
| OID_ATH_RCV_SW_FCS_ERRORS       | 0xFF00000B |
| OID_ATH_RCV_HW_FCS_ERRORS       | 0xFF00000C |
| OID_ATH_RCV_DECRYPT_ERRORS      | 0xFF00000D |
| OID_ATH_RCV_DUPLICATES          | 0xFF00000E |
| OID_ATH_RCV_MULTIPLE_DUPLICATES | 0xFF00000F |
| OID_ATH_RCV_FIFO_OVERRUNS       | 0xFF000010 |
| OID_ATH_RCV_DATA_RATE           | 0xFF000011 |
| OID_ATH_RCV_MULTICAST_FRAMES    | 0xFF000012 |
| OID_ATH_CURRENT_CHANNEL         | 0xFF000013 |
| OID_ATH_TURBO_MODE              | 0xFF000014 |
| OID_ATH_NOISE_FLOOR             | 0xFF000020 |